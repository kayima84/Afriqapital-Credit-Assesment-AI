<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Afriqapital Credit Assessment Tool</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f4f4f4;
    }

    h2 {
      color: #333;
      margin-top: 30px;
    }

    input[type="text"],
    input[type="number"] {
      padding: 6px 10px;
      margin: 5px 0 15px;
      font-size: 14px;
      width: 250px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    button {
      padding: 8px 16px;
      font-size: 15px;
      background-color: #2b7cff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }

    button:hover {
      background-color: #125de0;
    }

    section {
      background: #fff;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    #evaluationResult {
      margin-top: 20px;
      background: #e9f1ff;
      padding: 15px;
      border-radius: 8px;
      line-height: 1.8;
    }

    #mainTitle {
      color: #4B0082;
      text-align: left;
      font-size: 32px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

<h1 id="mainTitle">Afriqapital Credit Assessment AI</h1>
<p> ©Kayima Data Systems (+256)789029619 / (+256)759414953 </p>

<section>
  <h2>Client Details</h2>
  <p>Information about the Client.</p>
  <label for="firstName">First Name:</label><br>
  <input type="text" id="firstName" placeholder="e.g. John" value="John" /><br>

  <label for="lastName">Last Name:</label><br>
  <input type="text" id="lastName" placeholder="e.g. Doe" value="Doe" />
</section>

<section>
  <h2>Collateral</h2>
  <p>The total amount of assets the client is willing to pledge in case of default.</p>
  <label for="totalCollateral">Total Collateral (UGX):</label><br>
  <input type="number" id="totalCollateral" placeholder="e.g. 500000" value="500000" />
</section>

<section>
  <h2>Capital</h2>
  <p>The total amount of operating capital needed to run the client's business.</p>
  <label for="stockAmount">Stock (UGX):</label><br>
  <input type="number" id="stockAmount" placeholder="e.g. 1000000" value="1000000" /><br>

  <label for="cashAmount">Cash (UGX):</label><br>
  <input type="number" id="cashAmount" placeholder="e.g. 150000" value="150000" /><br>

  <label for="accountBalance">Account Balance (UGX):</label><br>
  <input type="number" id="accountBalance" placeholder="e.g. 300000" value="300000" />
</section>

<section>
  <h2>Capacity</h2>
  <p>The cashflow of the client per week.</p>
  <label for="capacityAmount">Cash Receivables (Weekly):</label><br>
  <input type="number" id="capacityAmount" placeholder="e.g. 100000" value="100000" /><br>

  <label for="expenses">Expenses (Weekly):</label><br>
  <input type="number" id="expenses" placeholder="e.g. 30000" value="30000" /><br>

  <label for="debts">Debts (Weekly):</label><br>
  <input type="number" id="debts" placeholder="e.g. 20000" value="20000" />
</section>

<section>
  <h2>Conditions – Uganda Economic Indicators</h2>
  <p>The overall outlook and performance of the country's economy.</p>
  <label for="gdpGrowth">Real GDP Growth (%):</label><br>
  <input type="number" id="gdpGrowth" placeholder="e.g. 6.1" value="6.1" /><br>

  <label for="inflationRate">Inflation Rate (%):</label><br>
  <input type="number" id="inflationRate" placeholder="e.g. 3.5" value="3.5" /><br>

  <label for="interestRate">Interest Rate (%):</label><br>
  <input type="number" id="interestRate" placeholder="e.g. 9.75" value="9.75" /><br>

  <label for="unemploymentRate">Unemployment Rate (%):</label><br>
  <input type="number" id="unemploymentRate" placeholder="e.g. 2.9" value="2.9" />
</section>

<section>
  <h2>Evaluation</h2>
  <label for="loanAmount">Loan Amount (UGX):</label><br>
  <input type="number" id="loanAmount" placeholder="e.g. 150000" value="150000" /><br>

  <label for="loanInterest">Interest Rate on Loan (%):</label><br>
  <input type="number" id="loanInterest" placeholder="e.g. 20" value="20" /><br>

  <label for="loanWeeks">Duration (Weeks):</label><br>
  <input type="number" id="loanWeeks" placeholder="e.g. 4" value="4" /><br>

  <button onclick="evaluateCredit()">Evaluate</button>
  <div id="evaluationResult"></div>
</section>

<script>
function formatUGX(amount) {
  return 'UGX ' + Number(amount).toLocaleString('en-UG');
}

function evaluateCredit() {
  const firstName = document.getElementById('firstName').value.trim();
  const lastName = document.getElementById('lastName').value.trim();

  const loan = Number(document.getElementById('loanAmount').value);
  const loanInterest = Number(document.getElementById('loanInterest').value);
  const weeks = Number(document.getElementById('loanWeeks').value);

  const totalCollateral = Number(document.getElementById('totalCollateral').value);
  const stock = Number(document.getElementById('stockAmount').value);
  const cash = Number(document.getElementById('cashAmount').value);
  const account = Number(document.getElementById('accountBalance').value);
  const totalCapital = stock + cash + account;

  const receivables = Number(document.getElementById('capacityAmount').value);
  const expenses = Number(document.getElementById('expenses').value);
  const debts = Number(document.getElementById('debts').value);
  const totalCapacity = receivables - (expenses + debts);

  const gdp = Number(document.getElementById('gdpGrowth').value);
  const inflation = Number(document.getElementById('inflationRate').value);
  const interestRate = Number(document.getElementById('interestRate').value);
  const unemployment = Number(document.getElementById('unemploymentRate').value);

  const totalLoanWithInterest = loan + (loan * loanInterest / 100);
  const weeklyInstallment = totalLoanWithInterest / weeks;

  const totalCondition = (gdp > 5 && unemployment <= 2.9 && inflation <= 4 && interestRate <= 9.75) ? "Good" : "Bad";

  const isCollateralOk = totalCollateral > totalLoanWithInterest;
  const isCapitalOk = totalCapital > totalLoanWithInterest;
  const isCapacityOk = totalCapacity > weeklyInstallment;
  const isConditionOk = totalCondition === "Good";

  const creditworthy = (isCollateralOk && isCapitalOk && isCapacityOk && isConditionOk) ? "Able" : "Unable";

  let reasons = "";
  if (!isCollateralOk) reasons += "- Collateral is less than loan total<br>";
  if (!isCapitalOk) reasons += "- Capital is less than loan total<br>";
  if (!isCapacityOk) reasons += "- Capacity is less than weekly installment<br>";
  if (!isConditionOk) {
    reasons += "- Economic conditions are not favorable:<br>";
    if (gdp <= 5) reasons += "&nbsp;&nbsp;&nbsp;- GDP growth is too low<br>";
    if (unemployment > 2.9) reasons += "&nbsp;&nbsp;&nbsp;- Unemployment rate is too high<br>";
    if (inflation > 4) reasons += "&nbsp;&nbsp;&nbsp;- Inflation rate is too high<br>";
    if (interestRate > 9.75) reasons += "&nbsp;&nbsp;&nbsp;- Interest rate is too high<br>";
  }
  if (creditworthy === "Able") reasons = "All assessment conditions have been met successfully.";

  document.getElementById("evaluationResult").innerHTML = `
    <h3>Evaluation Report</h3>
    <strong>Customer Names:</strong> ${firstName} ${lastName}<br>
    <strong>Loan Total:</strong> ${formatUGX(totalLoanWithInterest)}<br>
    <strong>Interest:</strong> ${loanInterest}%<br>
    <strong>Duration:</strong> ${weeks} weeks<br>
    <strong>Installment/Week:</strong> ${formatUGX(weeklyInstallment.toFixed(0))}<br>
    <strong>Total Collateral:</strong> ${formatUGX(totalCollateral)}<br>
    <strong>Total Capital:</strong> ${formatUGX(totalCapital)}<br>
    <strong>Total Capacity:</strong> ${formatUGX(totalCapacity)}<br>
    <strong>Total Condition:</strong> ${totalCondition}<br>
    <strong>Creditworthiness:</strong> <span style="color:${creditworthy === 'Able' ? 'green' : 'red'}">${creditworthy}</span><br><br>
    <strong>Reasons:</strong><br>${reasons}
  `;
}
</script>

</body>
</html>
